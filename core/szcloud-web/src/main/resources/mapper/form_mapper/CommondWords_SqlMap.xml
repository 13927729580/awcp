<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="org.szcloud.framework.formdesigner.core.domain.CommondWords">
 <!-- <cache type="org.mybatis.caches.ehcache.LoggingEhcache"/> --> 
	<resultMap id="rm" type="org.szcloud.framework.formdesigner.core.domain.CommondWords">
		<id property="id" jdbcType="VARCHAR" column="ID"/>
		<result property="userId" jdbcType="BIGINT" column="user_Id"/>
		<result property="wordContent" jdbcType="VARCHAR" column="word_cont"/>
		<result property="typeId" jdbcType="VARCHAR" column="type_id"/>
	</resultMap>
	<sql id="Base_Column_List">
		ID,user_id,word_cont,type_id
	</sql>

	
	 <!-- 插入 -->
	<insert id="insert" keyProperty="id">
		INSERT INTO commond_words (
			ID,
			user_id,
			word_cont,
			type_id
			
		) VALUES (
			#{id},
			#{userId},
			#{wordContent},
			#{typeId}
		)
	</insert>
	<update id="update" parameterType="org.szcloud.framework.formdesigner.core.domain.CommondWords">
		UPDATE commond_words 
			<set>
				<if test="id != null and id != ''">
					and ID = #{id}
				</if>
				<if test="userId != null and userId != ''">
					and user_id = #{userId}
				</if>
				<if test="wordContent != null and wordContent != ''">
					and word_cont = #{wordContent}
				</if>
				<if test="typeId != null and typeId != ''">
					and type_id = #{typeId}
				</if>
			</set>
		WHERE 
			ID = #{id}
	</update>
	<!-- 按Id删除 -->
	<delete  id="delete" parameterType="String" flushCache="true">
		DELETE FROM commond_words WHERE
		ID = #{id} 
	</delete>
	<!-- 按Id删除 -->
	<delete  id="remove" parameterType="Hashmap" flushCache="true">
		DELETE FROM commond_words
		WHERE
		ID = #{id} 
		and 
		USER_ID = #{userId}
	</delete>
	
	<select id="get" parameterType="String" resultMap="rm">
		SELECT
		<include refid="Base_Column_List" />
		FROM commond_words
		WHERE
		ID = #{id} 
	</select>
	<select id="selectByUserId" parameterType="String" resultMap="rm">
		SELECT
		<include refid="Base_Column_List" />
		FROM commond_words
		WHERE
		USER_ID = #{userId} 
		and type_id = '1'
	</select>
	
	<select id="selectByTypeId" parameterType="String" resultMap="rm">
		SELECT
		<include refid="Base_Column_List" />
		FROM commond_words
		WHERE
		TYPE_ID = #{typeId} 
	</select>
</mapper>

